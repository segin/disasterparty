.\" Man page for dp_message_add_text_part from libdisasterparty
.TH DP_MESSAGE_ADD_TEXT_PART 3 "June 1, 2025" "libdisasterparty @DP_VERSION@" "Disaster Party Manual"

.SH NAME
dp_message_add_text_part \- add a text content part to a Disaster Party message

.SH SYNOPSIS
.B #include <disasterparty.h>
.PP
.BI "bool dp_message_add_text_part(dp_message_t *" message ", const char *" text ");"

.SH DESCRIPTION
The
.B dp_message_add_text_part()
function adds a new text content part to an existing
.BR dp_message_t
structure. The
.I message
must have its
.I parts
array and
.I num_parts
field initialized (e.g., to NULL and 0 respectively for the first part).
This function will reallocate the internal
.I parts
array of the message to accommodate the new part.

The provided
.I text
is copied into a newly allocated string within the content part.
The caller is responsible for ensuring that the contents of the
.I message
structure (including all its parts) are eventually freed using
.BR dp_free_messages (3).

.SH PARAMETERS
.TP
.B dp_message_t *\fImessage\fP
A pointer to the Disaster Party message structure to which the text part will be added.
.TP
.B const char *\fItext\fP
The null-terminated text string for the content part.

.SH RETURN VALUE
Returns
.BR true
on success.
Returns
.BR false
if an error occurs (e.g., memory allocation failure, NULL message or text).

.SH BUGS
Report bugs to segin2005@gmail.com.

.SH AUTHOR
Kirn Gill II <segin2005@gmail.com>
Gemini (Conceptualization and initial C code generation)

.SH SEE ALSO
.BR dp_message_add_image_url_part (3),
.BR dp_message_add_base64_image_part (3),
.BR dp_free_messages (3),
.BR disasterparty (7)

